import{c as v,u as j,j as e,T as os,a as Ns,b as o,D as ps,U as gs,d as N,C as n,e as r,f as i,g as x,P as p,B as g,h as is,S as vs}from"./index-BvjW9mvP.js";import{C as ks}from"./chart-column-UlTgocCH.js";import{T as us}from"./triangle-alert-CG4a9bpy.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=v("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=v("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=v("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);function Cs(){var k,u,f,b,y,w,R,C,L,T,S,M,U,P,A,D,O,E,z,q,F,G,B,K,V,Q,$,I,Y,J,W,X,Z,_,H,ee,se,ae,le,ce,te,ne,re,ie,xe,de,me,he,je,oe,Ne,pe,ge,ve,ke,ue,fe,be,ye,we,Re,Ce,Le,Te,Se,Me,Ue,Pe,Ae,De,Oe,Ee,ze,qe,Fe,Ge,Be,Ke,Ve,Qe,$e,Ie,Ye,Je,We,Xe,Ze,_e,He,es,ss,as,ls,cs,ts,ns,rs;const{data:s,isLoading:ds}=j({queryKey:["/api/admin/dashboard"],retry:!1}),{data:a,isLoading:ms}=j({queryKey:["/api/admin/revenue"],retry:!1}),{data:m,isLoading:hs}=j({queryKey:["/api/admin/users"],retry:!1}),{data:c,isLoading:js}=j({queryKey:["/api/admin/system"],retry:!1});if(ds)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark-green via-black to-dark-green text-chalk-white",children:e.jsx("div",{className:"container mx-auto p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-chalk-green border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Cargando panel de administración..."})]})})});const t=l=>`€${l.toFixed(2)}`,d=l=>`${l.toFixed(1)}%`;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark-green via-black to-dark-green text-chalk-white",children:e.jsxs("div",{className:"container mx-auto p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-chalk-green mb-2 font-handwritten",children:"Panel de Administración"}),e.jsx("p",{className:"text-chalk/70",children:"Dashboard ejecutivo - TheCookFlow"})]}),e.jsxs(os,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(Ns,{className:"bg-dark-green/30 border border-chalk-green/30",children:[e.jsxs(o,{value:"overview",className:"data-[state=active]:bg-chalk-green data-[state=active]:text-dark-green",children:[e.jsx(ks,{className:"w-4 h-4 mr-2"}),"Overview"]}),e.jsxs(o,{value:"revenue",className:"data-[state=active]:bg-chalk-green data-[state=active]:text-dark-green",children:[e.jsx(ps,{className:"w-4 h-4 mr-2"}),"Revenue"]}),e.jsxs(o,{value:"users",className:"data-[state=active]:bg-chalk-green data-[state=active]:text-dark-green",children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Users"]}),e.jsxs(o,{value:"system",className:"data-[state=active]:bg-chalk-green data-[state=active]:text-dark-green",children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"System"]})]}),e.jsxs(N,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(i,{className:"text-sm text-chalk/70",children:"LTV"}),((u=(k=s==null?void 0:s.kpis)==null?void 0:k.ltv)==null?void 0:u.change)>0?e.jsx(bs,{className:"w-4 h-4 text-green-400"}):e.jsx(fs,{className:"w-4 h-4 text-red-400"})]})}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-chalk-green",children:t(((b=(f=s==null?void 0:s.kpis)==null?void 0:f.ltv)==null?void 0:b.current)||0)}),e.jsxs("p",{className:"text-xs text-chalk/60",children:[((w=(y=s==null?void 0:s.kpis)==null?void 0:y.ltv)==null?void 0:w.change)>0?"+":"",d(((C=(R=s==null?void 0:s.kpis)==null?void 0:R.ltv)==null?void 0:C.change)||0)," vs último mes"]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(p,{value:((T=(L=s==null?void 0:s.kpis)==null?void 0:L.ltv)==null?void 0:T.current)/((M=(S=s==null?void 0:s.kpis)==null?void 0:S.ltv)==null?void 0:M.target)*100,className:"h-1"}),e.jsxs("p",{className:"text-xs text-chalk/50 mt-1",children:["Objetivo: ",t(((P=(U=s==null?void 0:s.kpis)==null?void 0:U.ltv)==null?void 0:P.target)||0)]})]})]})]}),e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{className:"pb-2",children:e.jsx(i,{className:"text-sm text-chalk/70",children:"ARPU"})}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-chalk-green",children:t(((D=(A=s==null?void 0:s.kpis)==null?void 0:A.arpu)==null?void 0:D.current)||0)}),e.jsxs("p",{className:"text-xs text-chalk/60",children:["+",d(((E=(O=s==null?void 0:s.kpis)==null?void 0:O.arpu)==null?void 0:E.change)||0)," vs último mes"]}),e.jsxs("div",{className:"mt-2",children:[e.jsx(p,{value:((q=(z=s==null?void 0:s.kpis)==null?void 0:z.arpu)==null?void 0:q.current)/((G=(F=s==null?void 0:s.kpis)==null?void 0:F.arpu)==null?void 0:G.target)*100,className:"h-1"}),e.jsxs("p",{className:"text-xs text-chalk/50 mt-1",children:["Objetivo: ",t(((K=(B=s==null?void 0:s.kpis)==null?void 0:B.arpu)==null?void 0:K.target)||0)]})]})]})]}),e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{className:"pb-2",children:e.jsx(i,{className:"text-sm text-chalk/70",children:"Trial → Paid"})}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-chalk-green",children:d(((Q=(V=s==null?void 0:s.kpis)==null?void 0:V.conversionRates)==null?void 0:Q.trialToPaid)||0)}),e.jsx("p",{className:"text-xs text-chalk/60",children:"Conversión trial"}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-chalk/60",children:"Onboarding:"}),e.jsx("span",{children:d(((I=($=s==null?void 0:s.kpis)==null?void 0:$.conversionRates)==null?void 0:I.onboardingCompletion)||0)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-chalk/60",children:"Paywall:"}),e.jsx("span",{children:d(((J=(Y=s==null?void 0:s.kpis)==null?void 0:Y.conversionRates)==null?void 0:J.paywallConversion)||0)})]})]})]})]}),e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{className:"pb-2",children:e.jsx(i,{className:"text-sm text-chalk/70",children:"Churn Rate"})}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold text-chalk-green",children:d(((X=(W=s==null?void 0:s.kpis)==null?void 0:W.churn)==null?void 0:X.monthly)||0)}),e.jsx("p",{className:"text-xs text-chalk/60",children:"Mensual"}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-chalk/60",children:"Día 7:"}),e.jsx("span",{children:d(((_=(Z=s==null?void 0:s.kpis)==null?void 0:Z.churn)==null?void 0:_.day7)||0)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-chalk/60",children:"Día 30:"}),e.jsx("span",{children:d(((ee=(H=s==null?void 0:s.kpis)==null?void 0:H.churn)==null?void 0:ee.day30)||0)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-chalk/60",children:"Día 90:"}),e.jsx("span",{children:d(((ae=(se=s==null?void 0:s.kpis)==null?void 0:se.churn)==null?void 0:ae.day90)||0)})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{children:e.jsx(i,{className:"text-chalk-green",children:"Revenue Overview"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-chalk/60",children:"Hoy"}),e.jsx("p",{className:"text-xl font-bold",children:t(((le=s==null?void 0:s.revenue)==null?void 0:le.today)||0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-chalk/60",children:"Este Mes"}),e.jsx("p",{className:"text-xl font-bold",children:t(((ce=s==null?void 0:s.revenue)==null?void 0:ce.thisMonth)||0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-chalk/60",children:"MRR"}),e.jsx("p",{className:"text-xl font-bold text-chalk-green",children:t(((te=s==null?void 0:s.revenue)==null?void 0:te.mrr)||0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-chalk/60",children:"ARR"}),e.jsx("p",{className:"text-xl font-bold text-chalk-green",children:t(((ne=s==null?void 0:s.revenue)==null?void 0:ne.arr)||0)})]})]}),e.jsxs("div",{className:"border-t border-chalk-green/20 pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-chalk/60",children:"Growth MoM:"}),e.jsxs("span",{className:"text-green-400",children:["+",d(((ie=(re=s==null?void 0:s.revenue)==null?void 0:re.growth)==null?void 0:ie.mom)||0)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-chalk/60",children:"Growth YoY:"}),e.jsxs("span",{className:"text-green-400",children:["+",d(((de=(xe=s==null?void 0:s.revenue)==null?void 0:xe.growth)==null?void 0:de.yoy)||0)]})]})]})]})]}),e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{children:e.jsx(i,{className:"text-chalk-green",children:"Users Overview"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-chalk/60",children:"Total Users"}),e.jsx("p",{className:"text-xl font-bold",children:((he=(me=s==null?void 0:s.users)==null?void 0:me.total)==null?void 0:he.toLocaleString())||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-chalk/60",children:"MAU"}),e.jsx("p",{className:"text-xl font-bold",children:((oe=(je=s==null?void 0:s.users)==null?void 0:je.activeThisMonth)==null?void 0:oe.toLocaleString())||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-chalk/60",children:"Nuevos"}),e.jsx("p",{className:"text-xl font-bold text-chalk-green",children:((pe=(Ne=s==null?void 0:s.users)==null?void 0:Ne.newThisMonth)==null?void 0:pe.toLocaleString())||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-chalk/60",children:"Premium"}),e.jsx("p",{className:"text-xl font-bold text-chalk-green",children:((ve=(ge=s==null?void 0:s.users)==null?void 0:ge.premiumUsers)==null?void 0:ve.toLocaleString())||0})]})]}),e.jsxs("div",{className:"border-t border-chalk-green/20 pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-chalk/60",children:"En Trial:"}),e.jsx("span",{children:((ue=(ke=s==null?void 0:s.users)==null?void 0:ke.trialUsers)==null?void 0:ue.toLocaleString())||0})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-chalk/60",children:"Premium Rate:"}),e.jsx("span",{children:d(((fe=s==null?void 0:s.users)==null?void 0:fe.premiumUsers)/((be=s==null?void 0:s.users)==null?void 0:be.total)*100||0)})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{children:e.jsx(i,{className:"text-chalk-green",children:"Content Usage"})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Menús Generados:"}),e.jsx("span",{className:"font-bold",children:((we=(ye=s==null?void 0:s.content)==null?void 0:ye.menusGenerated)==null?void 0:we.toLocaleString())||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Recetas Vistas:"}),e.jsx("span",{className:"font-bold",children:((Ce=(Re=s==null?void 0:s.content)==null?void 0:Re.recipesViewed)==null?void 0:Ce.toLocaleString())||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Listas Creadas:"}),e.jsx("span",{className:"font-bold",children:((Te=(Le=s==null?void 0:s.content)==null?void 0:Le.shoppingListsCreated)==null?void 0:Te.toLocaleString())||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Menús Compartidos:"}),e.jsx("span",{className:"font-bold",children:((Me=(Se=s==null?void 0:s.content)==null?void 0:Se.sharedMenus)==null?void 0:Me.toLocaleString())||0})]}),e.jsx("div",{className:"border-t border-chalk-green/20 pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Avg Menús/Usuario:"}),e.jsx("span",{className:"font-bold text-chalk-green",children:((Pe=(Ue=s==null?void 0:s.content)==null?void 0:Ue.avgMenusPerUser)==null?void 0:Pe.toFixed(1))||0})]})})]})]}),e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{children:e.jsx(i,{className:"text-chalk-green",children:"Advertising Revenue"})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Impressions:"}),e.jsx("span",{className:"font-bold",children:((De=(Ae=s==null?void 0:s.ads)==null?void 0:Ae.impressions)==null?void 0:De.toLocaleString())||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Clicks:"}),e.jsx("span",{className:"font-bold",children:((Ee=(Oe=s==null?void 0:s.ads)==null?void 0:Oe.clicks)==null?void 0:Ee.toLocaleString())||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Revenue:"}),e.jsx("span",{className:"font-bold text-chalk-green",children:t(((ze=s==null?void 0:s.ads)==null?void 0:ze.revenue)||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"RPM:"}),e.jsx("span",{className:"font-bold",children:t(((qe=s==null?void 0:s.ads)==null?void 0:qe.rpm)||0)})]}),e.jsx("div",{className:"border-t border-chalk-green/20 pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Fill Rate:"}),e.jsx("span",{className:"font-bold text-chalk-green",children:d(((Fe=s==null?void 0:s.ads)==null?void 0:Fe.fillRate)||0)})]})})]})]})]})]}),e.jsx(N,{value:"revenue",className:"space-y-6",children:ms?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-chalk-green border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Cargando datos de revenue..."})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{children:e.jsx(i,{className:"text-chalk-green",children:"Revenue Summary"})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Total Revenue:"}),e.jsx("span",{className:"font-bold text-xl",children:t(((Ge=a==null?void 0:a.summary)==null?void 0:Ge.totalRevenue)||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Subscriptions:"}),e.jsx("span",{className:"font-bold",children:t(((Be=a==null?void 0:a.summary)==null?void 0:Be.subscriptionRevenue)||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Packs:"}),e.jsx("span",{className:"font-bold",children:t(((Ke=a==null?void 0:a.summary)==null?void 0:Ke.packRevenue)||0)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Ads:"}),e.jsx("span",{className:"font-bold",children:t(((Ve=a==null?void 0:a.summary)==null?void 0:Ve.adRevenue)||0)})]}),e.jsxs("div",{className:"flex justify-between text-red-400",children:[e.jsx("span",{children:"Refunds:"}),e.jsxs("span",{children:["-",t(((Qe=a==null?void 0:a.summary)==null?void 0:Qe.refunds)||0)]})]})]})]}),e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{children:e.jsx(i,{className:"text-chalk-green",children:"By Country"})}),e.jsx(x,{className:"space-y-3",children:($e=a==null?void 0:a.byCountry)==null?void 0:$e.map(l=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{variant:"outline",className:"text-xs",children:l.country}),e.jsxs("span",{className:"text-sm text-chalk/60",children:[l.users," users"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-bold",children:t(l.revenue)}),e.jsxs("div",{className:"text-xs text-chalk/60",children:["ARPU: ",t(l.arpu)]})]})]},l.country))})]}),e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{children:e.jsx(i,{className:"text-chalk-green",children:"Projections"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-chalk/60",children:"Next Month:"}),e.jsx("span",{className:"font-bold text-chalk-green",children:t(((Ie=a==null?void 0:a.projections)==null?void 0:Ie.nextMonth)||0)})]}),e.jsx(p,{value:((Ye=a==null?void 0:a.projections)==null?void 0:Ye.confidence)||0,className:"h-2"}),e.jsxs("p",{className:"text-xs text-chalk/50 mt-1",children:[d(((Je=a==null?void 0:a.projections)==null?void 0:Je.confidence)||0)," confidence"]})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-chalk/60",children:"Next Quarter:"}),e.jsx("span",{className:"font-bold text-chalk-green",children:t(((We=a==null?void 0:a.projections)==null?void 0:We.nextQuarter)||0)})]})})]})]})]})}),e.jsx(N,{value:"users",className:"space-y-6",children:hs?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-chalk-green border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Cargando datos de usuarios..."})]}):e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsxs(r,{children:[e.jsx(i,{className:"text-chalk-green",children:"User Management"}),e.jsx("div",{className:"flex space-x-2",children:Object.entries((m==null?void 0:m.filters)||{}).map(([l,h])=>e.jsxs(g,{variant:"outline",className:"text-xs",children:[l,": ",h]},l))})]}),e.jsxs(x,{children:[e.jsx("div",{className:"space-y-4",children:(Xe=m==null?void 0:m.users)==null?void 0:Xe.slice(0,10).map(l=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-chalk-green/20 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.name}),e.jsx("p",{className:"text-sm text-chalk/60",children:l.email})]}),e.jsx(g,{variant:l.status==="premium"?"default":"outline",className:l.status==="premium"?"bg-chalk-green text-dark-green":"",children:l.status})]}),e.jsxs("div",{className:"text-right text-sm",children:[e.jsxs("p",{children:[l.menusGenerated," menús"]}),e.jsxs("p",{className:"text-chalk/60",children:[t(l.revenue)," revenue"]})]})]},l.id))}),e.jsxs("div",{className:"mt-6 flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-chalk/60",children:["Mostrando ",((Ze=m==null?void 0:m.users)==null?void 0:Ze.length)||0," de ",((_e=m==null?void 0:m.pagination)==null?void 0:_e.totalUsers)||0," usuarios"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(is,{variant:"outline",size:"sm",disabled:!0,children:"Anterior"}),e.jsx(is,{variant:"outline",size:"sm",children:"Siguiente"})]})]})]})]})}),e.jsx(N,{value:"system",className:"space-y-6",children:js?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-chalk-green border-t-transparent rounded-full mx-auto mb-4"}),e.jsx("p",{children:"Cargando estado del sistema..."})]}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{children:e.jsxs(i,{className:"text-chalk-green flex items-center",children:[e.jsx(vs,{className:"w-5 h-5 mr-2"}),"Services Health"]})}),e.jsx(x,{className:"space-y-3",children:Object.entries((c==null?void 0:c.services)||{}).map(([l,h])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${h.status==="healthy"?"bg-green-400":"bg-red-400"}`}),e.jsx("span",{className:"capitalize",children:l})]}),e.jsxs("div",{className:"text-right text-sm",children:[e.jsxs("div",{children:[h.responseTime,"ms"]}),e.jsxs("div",{className:"text-chalk/60",children:[h.uptime,"% uptime"]})]})]},l))})]}),e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30",children:[e.jsx(r,{children:e.jsxs(i,{className:"text-chalk-green flex items-center",children:[e.jsx(xs,{className:"w-5 h-5 mr-2"}),"Performance"]})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Avg Response:"}),e.jsxs("span",{className:"font-bold",children:[(He=c==null?void 0:c.performance)==null?void 0:He.avgResponseTime,"ms"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Error Rate:"}),e.jsxs("span",{className:"font-bold",children:[(es=c==null?void 0:c.performance)==null?void 0:es.errorRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Throughput:"}),e.jsxs("span",{className:"font-bold",children:[(ss=c==null?void 0:c.performance)==null?void 0:ss.throughput," req/min"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk/60",children:"Memory:"}),e.jsxs("span",{className:"font-bold",children:[(as=c==null?void 0:c.performance)==null?void 0:as.memoryUsage,"%"]})]})]})]}),e.jsxs(n,{className:"bg-dark-green/20 border-chalk-green/30 lg:col-span-2",children:[e.jsx(r,{children:e.jsxs(i,{className:"text-chalk-green flex items-center",children:[e.jsx(us,{className:"w-5 h-5 mr-2"}),"Recent Errors"]})}),e.jsxs(x,{children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400",children:(ls=c==null?void 0:c.errors)==null?void 0:ls.last24h}),e.jsx("div",{className:"text-sm text-chalk/60",children:"Last 24h"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-400",children:(cs=c==null?void 0:c.errors)==null?void 0:cs.critical}),e.jsx("div",{className:"text-sm text-chalk/60",children:"Critical"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:(ts=c==null?void 0:c.errors)==null?void 0:ts.resolved}),e.jsx("div",{className:"text-sm text-chalk/60",children:"Resolved"})]})]}),e.jsx("div",{className:"space-y-2",children:(rs=(ns=c==null?void 0:c.errors)==null?void 0:ns.topErrors)==null?void 0:rs.map((l,h)=>e.jsxs("div",{className:"flex items-center justify-between p-2 border border-chalk-green/20 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:l.error}),e.jsxs("span",{className:"text-sm text-chalk/60 ml-2",children:["(",l.count,"x)"]})]}),e.jsx("span",{className:"text-xs text-chalk/50",children:l.lastSeen})]},h))})]})]})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-sm text-chalk/50",children:["Panel actualizado automáticamente cada 5 minutos • Última actualización: ",new Date().toLocaleTimeString("es-ES")]})})]})})}export{Cs as default};
