import{c as v,u as y,j as e,C as N,g as p,i as g,k as b,h as x,L as m,e as P,f as D,B as E,l as d,m as C,n as T,r as f,o as A,p as S,q as G}from"./index-BvjW9mvP.js";import{T as k}from"./triangle-alert-CG4a9bpy.js";import{S as j}from"./smartphone-B0zTfNHB.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=v("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);function F({compact:t=!1}){const{data:s,isLoading:u}=y({queryKey:["/api/google-play/subscription-status"]});if(u)return e.jsx(N,{className:"glass-card",children:e.jsx(p,{className:"p-4",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-chalk/20 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-chalk/20 rounded w-1/2"})]})})});const a=(s==null?void 0:s.isPremium)||!1;s!=null&&s.subscriptionStatus;const r=(s==null?void 0:s.isInTrial)||!1,l=(s==null?void 0:s.trialExpired)||!1;s!=null&&s.canGenerateMenu;const h=s!=null&&s.trialEndDate?new Date(s.trialEndDate):null,c=s!=null&&s.expiryTime?new Date(s.expiryTime):null,w=(s==null?void 0:s.autoRenewing)||!1,i=c&&new Date>c,n=c?Math.ceil((c.getTime()-Date.now())/(1e3*60*60*24)):0,o=h?Math.max(0,Math.ceil((h.getTime()-Date.now())/(1e3*60*60*24))):0;return t?e.jsxs("div",{className:"flex items-center justify-between p-3 glass-card border border-chalk/20 rounded-lg",children:[e.jsx("div",{className:"flex items-center space-x-2",children:a&&!i?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-4 h-4 text-chalk-green"}),e.jsx("span",{className:"text-sm font-medium text-chalk-white",children:"Premium"}),c&&n>0&&e.jsxs("span",{className:"text-xs text-chalk",children:["(",n,"d)"]})]}):r&&!l?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{className:"text-sm text-chalk-white",children:["Prueba (",o,"d)"]})]}):l?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:"text-sm text-red-400",children:"Prueba Expirada"})]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 text-chalk"}),e.jsx("span",{className:"text-sm text-chalk",children:"Nuevo Usuario"})]})}),!a&&e.jsx(x,{asChild:!0,size:"sm",className:"bg-chalk-green hover:bg-chalk-green/80 text-dark",children:e.jsx(m,{href:"/pricing",children:"Actualizar"})})]}):e.jsxs(N,{className:"glass-card border-chalk/20",children:[e.jsx(P,{children:e.jsxs(D,{className:"flex items-center justify-between",children:[e.jsx("span",{className:"flex items-center text-chalk-white",children:a&&!i?e.jsxs(e.Fragment,{children:[e.jsx(g,{className:"w-5 h-5 text-chalk-green mr-2"}),"Premium Activo"]}):r&&!l?e.jsxs(e.Fragment,{children:[e.jsx(b,{className:"w-5 h-5 text-blue-400 mr-2"}),"Prueba Gratuita"]}):l?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"w-5 h-5 text-red-400 mr-2"}),"Prueba Expirada"]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-5 h-5 text-chalk mr-2"}),"Nuevo Usuario"]})}),e.jsx(E,{variant:a&&!i?"default":"secondary",className:a&&!i?"bg-chalk-green text-dark":l?"bg-red-500/20 text-red-400":"bg-blue-500/20 text-blue-400",children:a&&!i?"Premium":l?"Expirada":"Prueba"})]})}),e.jsxs(p,{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:a&&!i?e.jsxs("div",{className:"space-y-2",children:[c&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-chalk",children:"Expira:"}),e.jsx("span",{className:"text-chalk-white",children:c.toLocaleDateString("es-ES")})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-chalk",children:"Renovación automática:"}),e.jsx("span",{className:"text-chalk-white",children:w?"Activa":"Desactivada"})]}),n>0&&n<=7&&e.jsx("div",{className:"p-2 bg-yellow-500/20 border border-yellow-500/30 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-200",children:["Tu suscripción expira en ",n," día",n!==1?"s":""]})})]}):r&&!l?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/30 rounded-md",children:[e.jsx("p",{className:"text-sm text-blue-300 mb-2",children:"Prueba Gratuita - Límites incluidos:"}),e.jsxs("ul",{className:"text-xs text-chalk space-y-1",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(d,{className:"w-3 h-3 text-blue-400 mr-2"}),"3 menús por semana"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(d,{className:"w-3 h-3 text-blue-400 mr-2"}),"Hasta 2 personas"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(d,{className:"w-3 h-3 text-blue-400 mr-2"}),"Lunes a viernes"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(d,{className:"w-3 h-3 text-blue-400 mr-2"}),"3 comidas diarias"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(d,{className:"w-3 h-3 text-blue-400 mr-2"}),"Solo dieta normal"]})]})]}),o>0&&e.jsxs("div",{className:"p-2 bg-blue-500/20 border border-blue-500/30 rounded-md",children:[e.jsxs("p",{className:"text-sm text-blue-200",children:["Tu prueba expira en ",o," día",o!==1?"s":"",". Después se cobrará €1.99/mes automáticamente."]}),e.jsx("p",{className:"text-xs text-blue-300 mt-1",children:"Puedes cancelar en cualquier momento en Google Play."})]})]}):l?e.jsxs("div",{className:"p-3 bg-red-500/20 border border-red-500/30 rounded-md",children:[e.jsx("p",{className:"text-sm text-red-200",children:"Tu prueba gratuita ha terminado. Tu suscripción Premium se ha activado automáticamente."}),e.jsx("p",{className:"text-xs text-red-300 mt-1",children:"Gestiona tu suscripción en Google Play si deseas cancelar."})]}):e.jsxs("div",{className:"p-3 bg-chalk-green/10 border border-chalk-green/30 rounded-md",children:[e.jsx("p",{className:"text-sm text-chalk-green",children:"¡Bienvenido! Estás suscrito con 7 días de prueba gratuita."}),e.jsx("p",{className:"text-xs text-chalk/70 mt-1",children:"Después de la prueba se cobrará €1.99/mes automáticamente."})]})}),e.jsx("div",{className:"space-y-2",children:l||!a&&!r?e.jsxs(e.Fragment,{children:[e.jsx(x,{asChild:!0,className:"w-full bg-chalk-green hover:bg-chalk-green/80 text-dark font-semibold",children:e.jsx(m,{href:"/pricing",children:l?"Suscribirse a Premium":"Ver Planes"})}),e.jsx("div",{className:"text-center",children:e.jsxs(x,{variant:"outline",size:"sm",className:"border-chalk/30 text-chalk hover:bg-chalk/10",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Descargar App Android"]})}),e.jsx("p",{className:"text-xs text-chalk/60 text-center",children:l?"Tu prueba gratuita ha terminado. Tu suscripción se renovará automáticamente.":"Suscripciones con facturación automática después de la prueba de 7 días"})]}):a?e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-sm text-chalk-green",children:"¡Tienes acceso completo a todas las funciones Premium!"}),e.jsxs(x,{variant:"outline",size:"sm",className:"border-chalk-green/30 text-chalk-green hover:bg-chalk-green/10",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Gestionar en Google Play"]})]}):e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("p",{className:"text-sm text-blue-300",children:"Estás en tu período de prueba gratuita. Facturación automática después de 7 días."}),e.jsxs(x,{variant:"outline",size:"sm",className:"border-chalk/30 text-chalk hover:bg-chalk/10",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Gestionar en Google Play"]})]})})]})]})}function q(){const{user:t,isAuthenticated:s,isLoading:u}=T(),[a,r]=f.useState(null);return f.useEffect(()=>{const l=localStorage.getItem("questionnaireData");if(l)try{r(JSON.parse(l))}catch(h){console.error("Error parsing user preferences:",h)}},[]),u?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"text-chalk text-xl",children:"Cargando..."})}):s?e.jsx("div",{className:"min-h-screen",children:e.jsxs("section",{className:"seccion",children:[e.jsx("img",{src:"/logo.PNG",alt:"TheCookFlow - Dashboard de gestión de menús",className:"logo"}),e.jsx("h1",{className:"text-chalk-white mb-8 text-6xl",children:"Mi Dashboard"}),e.jsx("p",{className:"text-3xl text-chalk mb-12 max-w-4xl mx-auto leading-relaxed",children:"Gestiona tu información personal y preferencias culinarias"}),e.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:e.jsx(F,{compact:!1})}),e.jsx("div",{className:"p-16 bg-transparent max-w-6xl mx-auto mb-12",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-4xl text-chalk-white mb-8 flex items-center gap-3",children:[e.jsx(A,{className:"h-10 w-10 text-chalk-green"}),"Información Personal"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-chalk text-2xl",children:"Nombre:"}),e.jsxs("span",{className:"text-chalk-white font-semibold text-2xl",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-chalk text-2xl",children:"Email:"}),e.jsx("span",{className:"text-chalk-white font-semibold text-2xl",children:t==null?void 0:t.email})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-chalk text-2xl",children:"Registro:"}),e.jsx("span",{className:"text-chalk-white font-semibold text-2xl",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString("es-ES"):"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-4xl text-chalk-white mb-8 flex items-center gap-3",children:[e.jsx(S,{className:"h-10 w-10 text-chalk-green"}),"Preferencias Culinarias"]}),a?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-chalk text-2xl",children:"Presupuesto semanal:"}),e.jsxs("span",{className:"text-chalk-white font-semibold text-2xl",children:["€",a.budget]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-chalk text-2xl",children:"Personas:"}),e.jsx("span",{className:"text-chalk-white font-semibold text-2xl",children:a.people})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-chalk text-2xl",children:"Días a planificar:"}),e.jsx("span",{className:"text-chalk-white font-semibold text-2xl",children:a.days})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-chalk text-2xl",children:"Tipo de dieta:"}),e.jsx("span",{className:"text-chalk-white font-semibold text-2xl capitalize",children:a.diet})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-chalk text-2xl",children:"Comidas por día:"}),e.jsx("span",{className:"text-chalk-white font-semibold text-2xl",children:a.meals})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-chalk mb-8 text-2xl",children:"No has completado tus preferencias aún"}),e.jsx(m,{href:"/questionnaire",children:e.jsx("button",{className:"btn-primary-chalk text-2xl px-12 py-6",children:"Completar Cuestionario"})})]})]})]})}),e.jsxs("div",{className:"p-16 bg-transparent max-w-6xl mx-auto mb-12",children:[e.jsx("h3",{className:"text-5xl text-chalk-white mb-12 text-center",children:"Acciones Rápidas"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsx(m,{href:"/questionnaire",children:e.jsxs("div",{className:"text-center p-12 border-0 bg-transparent rounded-lg hover:bg-chalk-green/20 transition-all cursor-pointer",children:[e.jsx(L,{className:"h-20 w-20 text-chalk-green mx-auto mb-6"}),e.jsx("h4",{className:"text-3xl text-chalk-white mb-4",children:"Editar Preferencias"}),e.jsx("p",{className:"text-chalk text-xl",children:"Actualiza tu cuestionario y preferencias culinarias"})]})}),e.jsx(m,{href:"/generator",children:e.jsxs("div",{className:"text-center p-12 border-0 bg-transparent rounded-lg hover:bg-chalk-green/20 transition-all cursor-pointer",children:[e.jsx(G,{className:"h-20 w-20 text-chalk-green mx-auto mb-6"}),e.jsx("h4",{className:"text-3xl text-chalk-white mb-4",children:"Generar Menú"}),e.jsx("p",{className:"text-chalk text-xl",children:"Crea un nuevo menú semanal personalizado con IA"})]})})]})]}),a&&e.jsxs("div",{className:"p-16 bg-transparent max-w-6xl mx-auto",children:[e.jsx("h3",{className:"text-5xl text-chalk-white mb-12 text-center",children:"Detalle de Preferencias"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-3xl text-chalk-green mb-8",children:"Restricciones Alimentarias"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk text-2xl",children:"Alergias:"}),e.jsx("span",{className:"text-chalk-white text-2xl",children:a.allergies||"Ninguna"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-chalk text-2xl",children:"Restricciones:"}),e.jsx("span",{className:"text-chalk-white text-2xl",children:a.restrictions||"Ninguna"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-3xl text-chalk-green mb-8",children:"Comidas Favoritas"}),e.jsx("div",{className:"text-chalk-white text-2xl",children:a.favorites||"No especificadas"})]})]})]})]})}):null}export{q as default};
